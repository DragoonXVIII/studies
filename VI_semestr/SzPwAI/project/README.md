# üìù Wishlist App - Aplikacja do ZarzƒÖdzania ListƒÖ ≈ªycze≈Ñ

## üìã Spis tre≈õci
- [Opis projektu](#opis-projektu)
- [Technologie](#technologie)
- [Spe≈Çnienie wymaga≈Ñ](#spe≈Çnienie-wymaga≈Ñ)
- [Architektura aplikacji](#architektura-aplikacji)
- [Funkcjonalno≈õci](#funkcjonalno≈õci)
- [Instalacja i uruchomienie](#instalacja-i-uruchomienie)
- [Struktura projektu](#struktura-projektu)
- [API Endpoints](#api-endpoints)
- [Bezpiecze≈Ñstwo](#bezpiecze≈Ñstwo)
- [Walidacja](#walidacja)
- [Demonstracja kodu](#demonstracja-kodu)

---

## üéØ Opis projektu

**Wishlist App** to w pe≈Çni funkcjonalna aplikacja internetowa umo≈ºliwiajƒÖca u≈ºytkownikom tworzenie i zarzƒÖdzanie osobistymi listami ≈ºycze≈Ñ. Aplikacja pozwala na dodawanie przedmiot√≥w z opisem i cenƒÖ, ≈õledzenie statusu zakupu oraz generowanie szczeg√≥≈Çowych statystyk.

### G≈Ç√≥wne cele aplikacji:
- Tworzenie i zarzƒÖdzanie listƒÖ ≈ºycze≈Ñ
- ≈öledzenie postƒôpu zakup√≥w z wizualizacjƒÖ
- Analiza wydatk√≥w i pozosta≈Çych koszt√≥w
- Nowoczesny, responsywny interfejs u≈ºytkownika
- Bezpieczne zarzƒÖdzanie kontami u≈ºytkownik√≥w

---

## üõ† Technologie

### Frontend (Klient)
- **React.js v19.1.0** - G≈Ç√≥wny framework do budowy interfejsu u≈ºytkownika
- **CSS Modules** - Stylowanie komponent√≥w z enkapsulacjƒÖ
- **Axios v1.9.0** - Komunikacja z serwerem via HTTP
- **React Router DOM v7.5.2** - Routing w aplikacji SPA
- **ES6+** - Nowoczesny JavaScript

### Backend (Serwer)
- **Node.js** - ≈örodowisko wykonawcze JavaScript
- **Express.js v5.1.0** - Framework webowy do budowy API REST
- **Mongoose v8.15.0** - ODM dla MongoDB
- **bcrypt v5.1.1** - Haszowanie hase≈Ç
- **jsonwebtoken v9.0.2** - Autoryzacja JWT
- **Joi v17.13.3** - Walidacja danych wej≈õciowych
- **joi-password-complexity v5.2.0** - Walidacja z≈Ço≈ºono≈õci hase≈Ç
- **cors v2.8.5** - Obs≈Çuga Cross-Origin Resource Sharing
- **dotenv v16.5.0** - ZarzƒÖdzanie zmiennymi ≈õrodowiskowymi
- **nodemon v3.1.10** - Automatyczne restartowanie serwera podczas developmentu

### Baza danych
- **MongoDB** - Nierelacyjna baza danych dokumentowa

---

## ‚úÖ Spe≈Çnienie wymaga≈Ñ

### 1. Szkielety programistyczne po stronie serwera i klienta

**‚úÖ SPE≈ÅNIONE**
- **Frontend**: React.js - nowoczesny framework do budowy SPA
- **Backend**: Express.js - popularny framework Node.js do tworzenia aplikacji webowych

```javascript
// Przyk≈Çad konfiguracji Express.js
const express = require("express");
const app = express();
const cors = require("cors");

app.use(express.json());
app.use(cors());
```

### 2. Wsp√≥≈Çpraca z nierelacyjnƒÖ bazƒÖ danych i operacje CRUD

**‚úÖ SPE≈ÅNIONE**
- **Baza danych**: MongoDB z Mongoose ODM
- **Operacje CRUD** zaimplementowane dla:
  - U≈ºytkownik√≥w (Create, Read, Update, Delete)
  - Wishlist (Create, Read, Update, Delete)

#### Modele danych:

**Model u≈ºytkownika** (`server/models/user.js`):
```javascript
const userSchema = new mongoose.Schema({
  firstName: { type: String, required: true },
  lastName: { type: String, required: true },
  email: { type: String, required: true },
  password: { type: String, required: true },
});

userSchema.methods.generateAuthToken = function () {
  const token = jwt.sign({ _id: this._id }, process.env.JWTPRIVATEKEY, {
    expiresIn: "7d",
  });
  return token;
};

const validate = (data) => {
  const schema = Joi.object({
    firstName: Joi.string().required().label("First Name"),
    lastName: Joi.string().required().label("Last Name"),
    email: Joi.string().email().required().label("Email"),
    password: passwordComplexity().required().label("Password"),
  });
  return schema.validate(data);
};
```

**Model wishlist** (`server/models/wishlist.js`):
```javascript
const wishlistSchema = new mongoose.Schema({
  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },
  title: { type: String, required: true },
  description: { type: String },
  price: { type: Number },
  purchased: { type: Boolean, default: false },
  createdAt: { type: Date, default: Date.now }
});
```

#### Operacje CRUD:

**Wishlist CRUD**:
- `POST /api/wishlist/my` - Tworzenie nowego elementu
- `GET /api/wishlist/my` - Odczyt listy ≈ºycze≈Ñ u≈ºytkownika
- `PATCH /api/wishlist/:id/toggle` - Aktualizacja statusu zakupu
- `DELETE /api/wishlist/:id` - Usuwanie elementu

**U≈ºytkownicy CRUD**:
- `POST /api/auth/register` - Rejestracja u≈ºytkownika
- `GET /api/users/me` - Odczyt danych u≈ºytkownika
- `DELETE /api/users/me` - Usuwanie konta

### 3. Interfejs API w architekturze REST

**‚úÖ SPE≈ÅNIONE**

Aplikacja implementuje pe≈Çny REST API z odpowiednimi metodami HTTP:

```javascript
// server/index.js - Konfiguracja g≈Ç√≥wnego serwera
require("dotenv").config();
const express = require("express");
const app = express();
const cors = require("cors");
const connection = require("./db");
const userRoutes = require("./routes/users");
const authRoutes = require("./routes/auth");
const wishlistRoutes = require("./routes/wishlist");
const tokenVerification = require("./middleware/tokenVerification");

connection();
app.use(express.json());
app.use(cors());

app.get("/api/users/", tokenVerification);
app.use("/api/users", userRoutes);
app.use("/api/auth", authRoutes);
app.use("/api/wishlist", wishlistRoutes);

const port = process.env.PORT || 8080;
app.listen(port, () => console.log(`Nas≈Çuchiwanie na porcie ${port}`));
```

#### Pe≈Çna lista endpoint-√≥w:

| Metoda | Endpoint | Opis |
|--------|----------|------|
| POST | `/api/auth/register` | Rejestracja u≈ºytkownika |
| POST | `/api/auth/login` | Logowanie u≈ºytkownika |
| GET | `/api/users/me` | Pobieranie danych u≈ºytkownika |
| DELETE | `/api/users/me` | Usuwanie konta u≈ºytkownika |
| GET | `/api/wishlist/my` | Pobieranie listy ≈ºycze≈Ñ |
| POST | `/api/wishlist/my` | Dodawanie elementu do listy |
| PATCH | `/api/wishlist/:id/toggle` | Zmiana statusu zakupu |
| DELETE | `/api/wishlist/:id` | Usuwanie elementu z listy |
| GET | `/api/wishlist/stats` | Pobieranie statystyk |

### 4. Haszowanie hase≈Ç i autoryzacja

**‚úÖ SPE≈ÅNIONE**

#### Haszowanie hase≈Ç:
```javascript
// server/controllers/userController.js
const bcrypt = require("bcrypt");

const salt = await bcrypt.genSalt(Number(process.env.SALT));
const hashPassword = await bcrypt.hash(req.body.password, salt);
```

#### Autoryzacja JWT:
```javascript
// server/middleware/tokenVerification.js
const jwt = require("jsonwebtoken") 

function tokenVerification(req, res, next) { 
    let token = req.headers["x-access-token"]; 
    if (!token) {
        return res.status(403).send({ message: "No token provided!" }); 
    }
    try {
        const decoded = jwt.verify(token, process.env.JWTPRIVATEKEY);
        if (!decoded || !decoded._id) {
            return res.status(401).send({ message: "Invalid token format" });
        }
        req.user = decoded;
        next();
    } catch (err) {
        return res.status(401).send({ message: "Unauthorized!" });
    }
}
```

#### Generowanie token√≥w:
```javascript
// server/models/user.js
userSchema.methods.generateAuthToken = function () {
  const token = jwt.sign({ _id: this._id }, process.env.JWTPRIVATEKEY, {
    expiresIn: "7d",
  });
  return token;
};
```

#### Zabezpieczenia:
- Wszystkie chronione endpoint-y wymagajƒÖ wa≈ºnego tokenu JWT
- Has≈Ça sƒÖ haszowane z u≈ºyciem bcrypt i salt
- Tokeny sƒÖ weryfikowane przy ka≈ºdym ≈ºƒÖdaniu do chronionych zasob√≥w

### 5. Walidacja formularzy po stronie klienta i serwera

**‚úÖ SPE≈ÅNIONE**

#### Walidacja po stronie klienta (React):
```javascript
// client/src/components/Wishlist/Wishlist.jsx
const Wishlist = ({ entries = [], onAddEntry, onTogglePurchased, onDeleteEntry }) => {
  const [title, setTitle] = useState("");
  const [description, setDescription] = useState("");
  const [price, setPrice] = useState("");
  const [error, setError] = useState("");

  // Walidacja formularza
  const isFormValid = () => {
    return title.trim().length >= 2 && 
           title.trim().length <= 32 && 
           description.length <= 256;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError("");
    
    // Walidacja tytu≈Çu
    if (!title.trim()) {
      setError("Title is required");
      return;
    }
    if (title.trim().length < 2) {
      setError("Title must be at least 2 characters long");
      return;
    }
    if (title.trim().length > 32) {
      setError("Title cannot exceed 32 characters");
      return;
    }
    
    // Walidacja opisu
    if (description.trim().length > 256) {
      setError("Description cannot exceed 256 characters");
      return;
    }
    
    // Dalsze przetwarzanie...
  };
};
```

#### Walidacja po stronie serwera (Express):
```javascript
// server/controllers/wishlistController.js
exports.addToMyWishlist = async (req, res) => {
  try {
    const { title, description, price } = req.body;
    
    // Walidacja tytu≈Çu
    if (!title) {
      return res.status(400).json({ message: 'Tytu≈Ç jest wymagany' });
    }
    
    const newEntry = new Wishlist({
      user: req.user._id,
      title,
      description,
      price
    });
    
    await newEntry.save();
    res.status(201).json({ data: newEntry, message: 'Dodano do wishlisty' });
  } catch (error) {
    res.status(500).json({ message: 'B≈ÇƒÖd serwera' });
  }
};
```

#### Walidacja z bibliotekƒÖ Joi:
```javascript
// server/models/user.js
const validate = (data) => {
  const schema = Joi.object({
    firstName: Joi.string().required().label("First Name"),
    lastName: Joi.string().required().label("Last Name"),
    email: Joi.string().email().required().label("Email"),
    password: passwordComplexity().required().label("Password"),
  });
  return schema.validate(data);
};
```

#### Funkcje walidacyjne:
- **Frontend**: Walidacja w czasie rzeczywistym z wizualnym feedbackiem
- **Backend**: Walidacja wszystkich danych wej≈õciowych przed zapisem do bazy
- **Dwustronna walidacja**: Zapewnia bezpiecze≈Ñstwo i dobrƒÖ UX

### 6. Jako≈õƒá kodu i wzorzec MVC

**‚úÖ SPE≈ÅNIONE**

#### Organizacja kodu wed≈Çug wzorca MVC:

**Models** (`server/models/`):
```javascript
// server/models/wishlist.js
const mongoose = require('mongoose');

const wishlistSchema = new mongoose.Schema({
  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },
  title: { type: String, required: true },
  description: { type: String },
  price: { type: Number },
  purchased: { type: Boolean, default: false },
  createdAt: { type: Date, default: Date.now }
});

module.exports = mongoose.model('Wishlist', wishlistSchema);
```

**Views** (React komponenty w `client/src/components/`):
```javascript
// client/src/components/Wishlist/Wishlist.jsx
const Wishlist = ({ entries = [], onAddEntry, onTogglePurchased, onDeleteEntry }) => {
  // Logika komponentu i renderowanie UI
  return (
    <div className={styles.wishlist_container}>
      {/* Interfejs u≈ºytkownika */}
    </div>
  );
};
```

**Controllers** (`server/controllers/`):
```javascript
// server/controllers/wishlistController.js
exports.getMyWishlist = async (req, res) => {
  try {
    const wishlist = await Wishlist.find({ user: req.user._id });
    res.status(200).json({ data: wishlist, message: 'Twoja wishlist' });
  } catch (error) {
    res.status(500).json({ message: 'B≈ÇƒÖd serwera' });
  }
};
```

#### Jako≈õƒá kodu:
- **Modularno≈õƒá**: Kod podzielony na logiczne modu≈Çy i komponenty
- **Separacja odpowiedzialno≈õci**: Wyra≈∫ny podzia≈Ç na Model-View-Controller
- **Czytelno≈õƒá**: Opisowe nazwy zmiennych i funkcji
- **Obs≈Çuga b≈Çƒôd√≥w**: Comprehensive error handling na wszystkich poziomach
- **Dokumentacja**: Komentarze i JSDoc w kluczowych miejscach

---

## üèó Architektura aplikacji

### Architektura wysokopoziomowa:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    HTTP/REST API    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ                     ‚îÇ
‚îÇ    React Frontend   ‚îÇ                     ‚îÇ   Express Backend   ‚îÇ
‚îÇ                     ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    JSON Response    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                        ‚îÇ
                                                        ‚îÇ Mongoose ODM
                                                        ‚ñº
                                             ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                             ‚îÇ   MongoDB Database  ‚îÇ
                                             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Struktura folder√≥w:

```
project/
‚îú‚îÄ‚îÄ client/                 # Frontend React
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/     # Komponenty React
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login/      # Komponent logowania
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.module.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Signup/     # Komponent rejestracji
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.module.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Main/       # G≈Ç√≥wny komponent aplikacji
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.module.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Wishlist/   # Komponent listy ≈ºycze≈Ñ
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Wishlist.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.module.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AddToWishlist/ # Komponent dodawania
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AddToWishlist.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.module.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Users/      # Komponent u≈ºytkownik√≥w
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Users.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ User/       # Komponent u≈ºytkownika
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ User.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.js          # Routing aplikacji
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.js        # Punkt wej≈õcia React
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.css       # Globalne style
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ server/                 # Backend Express
‚îÇ   ‚îú‚îÄ‚îÄ controllers/        # Logika biznesowa (MVC Controllers)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ userController.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wishlistController.js
‚îÇ   ‚îú‚îÄ‚îÄ models/            # Modele danych (MVC Models)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wishlist.js
‚îÇ   ‚îú‚îÄ‚îÄ routes/            # Definicje endpoint-√≥w
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wishlist.js
‚îÇ   ‚îú‚îÄ‚îÄ middleware/        # Middleware (autoryzacja)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tokenVerification.js
‚îÇ   ‚îú‚îÄ‚îÄ db.js              # Konfiguracja MongoDB
‚îÇ   ‚îú‚îÄ‚îÄ index.js           # Punkt wej≈õcia serwera
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
```

---

## ‚ö° Funkcjonalno≈õci

### üë§ ZarzƒÖdzanie u≈ºytkownikami
- **Rejestracja**: Tworzenie nowego konta z walidacjƒÖ danych
- **Logowanie**: Autoryzacja z tokenami JWT
- **Profil u≈ºytkownika**: Wy≈õwietlanie i edycja danych osobowych
- **Usuwanie konta**: Mo≈ºliwo≈õƒá usuniƒôcia konta z potwierdzeniem

### üìù ZarzƒÖdzanie listƒÖ ≈ºycze≈Ñ
- **Dodawanie element√≥w**: Formularz z tytu≈Çem, opisem i cenƒÖ
- **Wy≈õwietlanie listy**: Responsywna siatka z kartami element√≥w
- **Aktualizacja statusu**: Prze≈ÇƒÖczanie miƒôdzy "do kupienia" a "kupione"
- **Usuwanie element√≥w**: Usuwanie z potwierdzeniem
- **Filtrowanie**: Wizualne rozr√≥≈ºnienie zakupionych element√≥w

### üìä Statystyki i analityka
- **Procent realizacji**: Wizualny pasek postƒôpu
- **≈ÅƒÖczna warto≈õƒá**: Suma wszystkich element√≥w na li≈õcie
- **Wydane ≈õrodki**: Warto≈õƒá zakupionych element√≥w
- **Pozosta≈Ça kwota**: Do wydania na pozosta≈Çe elementy
- **Liczniki**: ≈ÅƒÖczna liczba element√≥w i zakupionych

### üé® Interfejs u≈ºytkownika
- **Responsywny design**: Optymalizacja na desktop i mobile
- **Ciemny motyw**: Nowoczesny wyglƒÖd z zielonymi akcentami
- **Animacje**: P≈Çynne przej≈õcia i efekty hover
- **Walidacja formularzy**: Wizualny feedback w czasie rzeczywistym
- **≈Åadowanie**: Wska≈∫niki ≈Çadowania podczas operacji

---

## üöÄ Instalacja i uruchomienie

### Wymagania systemowe:
- Node.js (v14 lub nowszy)
- MongoDB (lokalnie lub w chmurze)
- npm lub yarn

### Krok 1: Klonowanie repozytorium
```bash
git clone <repository-url>
cd project
```

### Krok 2: Instalacja zale≈ºno≈õci

#### Backend:
```bash
cd server
npm install
```

#### Frontend:
```bash
cd client
npm install
```

### Krok 3: Konfiguracja ≈õrodowiska

Utw√≥rz plik `.env` w folderze `server/`:
```env
DB_CONNECTION_STRING=mongodb://localhost:27017/wishlist_app
JWTPRIVATEKEY=your_jwt_secret_key
SALT=10
PORT=8080
```

### Krok 4: Uruchomienie aplikacji

#### Uruchomienie serwera (Terminal 1):
```bash
cd server
npm start
```
Serwer uruchomi siƒô na `http://localhost:8080`

#### Uruchomienie klienta (Terminal 2):
```bash
cd client
npm start
```
Aplikacja bƒôdzie dostƒôpna na `http://localhost:3000`

### Krok 5: Testowanie
Otw√≥rz przeglƒÖdarkƒô i przejd≈∫ do `http://localhost:3000`

---

## üìÅ Struktura projektu

### Backend (server/)
```
server/
‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ userController.js      # Logika u≈ºytkownik√≥w (CRUD)
‚îÇ   ‚îî‚îÄ‚îÄ wishlistController.js  # Logika wishlist (CRUD)
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îî‚îÄ‚îÄ tokenVerification.js   # Middleware JWT
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ user.js               # Model u≈ºytkownika z walidacjƒÖ Joi
‚îÇ   ‚îî‚îÄ‚îÄ wishlist.js           # Model wishlist
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js               # Endpoint-y autoryzacji
‚îÇ   ‚îú‚îÄ‚îÄ users.js              # Endpoint-y u≈ºytkownik√≥w
‚îÇ   ‚îî‚îÄ‚îÄ wishlist.js           # Endpoint-y wishlist
‚îú‚îÄ‚îÄ db.js                     # Konfiguracja MongoDB
‚îú‚îÄ‚îÄ index.js                  # Punkt wej≈õcia aplikacji
‚îî‚îÄ‚îÄ package.json              # Zale≈ºno≈õci i skrypty
```

### Frontend (client/)
```
client/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.jsx         # Komponent logowania
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.module.css # Style logowania
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Signup/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.jsx         # Komponent rejestracji
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.module.css # Style rejestracji
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Main/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.jsx         # G≈Ç√≥wny komponent z logikƒÖ
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.module.css # Style g≈Ç√≥wne
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Wishlist/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Wishlist.jsx      # Komponent wishlist
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.module.css # Style wishlist
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AddToWishlist/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AddToWishlist.jsx # Komponent dodawania
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.module.css # Style formularza
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Users/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Users.jsx         # Komponent listy u≈ºytkownik√≥w
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ User/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ User.jsx          # Komponent pojedynczego u≈ºytkownika
‚îÇ   ‚îú‚îÄ‚îÄ App.js                    # Routing z React Router
‚îÇ   ‚îú‚îÄ‚îÄ index.js                  # Punkt wej≈õcia React
‚îÇ   ‚îî‚îÄ‚îÄ index.css                 # Globalne style
‚îú‚îÄ‚îÄ public/                       # Statyczne pliki
‚îî‚îÄ‚îÄ package.json                  # Zale≈ºno≈õci React
```

---

## üåê API Endpoints

### Autoryzacja
| Metoda | Endpoint | Opis | Cia≈Ço ≈ºƒÖdania |
|--------|----------|------|---------------|
| POST | `/api/auth/register` | Rejestracja u≈ºytkownika | `{firstName, lastName, email, password}` |
| POST | `/api/auth/login` | Logowanie u≈ºytkownika | `{email, password}` |

### U≈ºytkownicy
| Metoda | Endpoint | Opis | Autoryzacja |
|--------|----------|------|-------------|
| GET | `/api/users/me` | Pobieranie danych u≈ºytkownika | JWT Token |
| DELETE | `/api/users/me` | Usuwanie konta u≈ºytkownika | JWT Token |

### Wishlist
| Metoda | Endpoint | Opis | Cia≈Ço ≈ºƒÖdania | Autoryzacja |
|--------|----------|------|---------------|-------------|
| GET | `/api/wishlist/my` | Pobieranie listy ≈ºycze≈Ñ | - | JWT Token |
| POST | `/api/wishlist/my` | Dodawanie elementu | `{title, description?, price?}` | JWT Token |
| PATCH | `/api/wishlist/:id/toggle` | Zmiana statusu zakupu | - | JWT Token |
| DELETE | `/api/wishlist/:id` | Usuwanie elementu | - | JWT Token |
| GET | `/api/wishlist/stats` | Pobieranie statystyk | - | JWT Token |

### Przyk≈Çady odpowiedzi API:

#### GET `/api/wishlist/my`
```json
{
  "data": [
    {
      "_id": "648a1b2c3d4e5f6789012345",
      "title": "iPhone 15 Pro",
      "description": "Nowy iPhone w kolorze titanium",
      "price": 1199,
      "purchased": false,
      "createdAt": "2024-06-15T10:30:00.000Z",
      "updatedAt": "2024-06-15T10:30:00.000Z"
    }
  ]
}
```

#### GET `/api/wishlist/stats`
```json
{
  "data": {
    "totalEntries": 5,
    "purchasedEntries": 2,
    "totalValue": 2500,
    "totalSpent": 800,
    "remainingValue": 1700,
    "accomplishedPercentage": 40
  }
}
```

---

## üîí Bezpiecze≈Ñstwo

### Haszowanie hase≈Ç
```javascript
// U≈ºycie bcrypt z salt do bezpiecznego haszowania
const bcrypt = require("bcrypt");
const salt = await bcrypt.genSalt(10);
const hashPassword = await bcrypt.hash(password, salt);
```

### Autoryzacja JWT
```javascript
// Generowanie tokenu
const token = jwt.sign(
  { _id: user._id, email: user.email },
  process.env.JWTPRIVATEKEY,
  { expiresIn: "7d" }
);

// Weryfikacja tokenu
const verifyToken = (req, res, next) => {
  const token = req.header("x-access-token");
  if (!token) return res.status(401).json({ message: "Access denied" });
  
  try {
    const decoded = jwt.verify(token, process.env.JWTPRIVATEKEY);
    req.user = decoded;
    next();
  } catch (error) {
    res.status(403).json({ message: "Invalid token" });
  }
};
```

### Zabezpieczenia implementowane:
- ‚úÖ Haszowanie hase≈Ç z bcrypt i salt
- ‚úÖ Autoryzacja JWT z czasem wyga≈õniƒôcia
- ‚úÖ Middleware weryfikacji token√≥w
- ‚úÖ Walidacja danych wej≈õciowych
- ‚úÖ CORS dla bezpiecznej komunikacji
- ‚úÖ Sanityzacja danych przed zapisem do bazy
- ‚úÖ Obs≈Çuga b≈Çƒôd√≥w bez ujawniania wra≈ºliwych informacji

---

## ‚úÖ Walidacja

### Walidacja po stronie klienta (Frontend)

#### Formularz dodawania elementu do wishlist:
```javascript
const validateForm = () => {
  const newErrors = {};
  
  // Tytu≈Ç: wymagany, 2-32 znaki
  if (!formData.title.trim()) {
    newErrors.title = 'Title is required';
  } else if (formData.title.length < 2) {
    newErrors.title = 'Title must be at least 2 characters';
  } else if (formData.title.length > 32) {
    newErrors.title = 'Title must not exceed 32 characters';
  }
  
  // Opis: opcjonalny, maksymalnie 256 znak√≥w
  if (formData.description.length > 256) {
    newErrors.description = 'Description must not exceed 256 characters';
  }
  
  // Cena: opcjonalna, liczba dodatnia
  if (formData.price && (isNaN(formData.price) || formData.price < 0)) {
    newErrors.price = 'Price must be a positive number';
  }
  
  return Object.keys(newErrors).length === 0;
};
```

#### Wizualny feedback walidacji:
- **Liczniki znak√≥w**: Real-time dla title (2-32) i description (0-256)
- **Kolory granic**: Zielone dla poprawnych, czerwone dla b≈Çƒôdnych p√≥l
- **Komunikaty b≈Çƒôd√≥w**: Wy≈õwietlane pod polami formularza
- **Przycisk submit**: Aktywny tylko gdy formularz jest poprawny

### Walidacja po stronie serwera (Backend)

#### Kontroler wishlist:
```javascript
const addToMyWishlist = async (req, res) => {
  try {
    const { title, description, price } = req.body;
    
    // Walidacja tytu≈Çu
    if (!title || title.trim().length < 2 || title.trim().length > 32) {
      return res.status(400).json({ 
        message: "Title must be between 2 and 32 characters" 
      });
    }
    
    // Walidacja opisu
    if (description && description.length > 256) {
      return res.status(400).json({ 
        message: "Description must not exceed 256 characters" 
      });
    }
    
    // Walidacja ceny
    if (price && (isNaN(price) || price < 0)) {
      return res.status(400).json({ 
        message: "Price must be a valid positive number" 
      });
    }
    
    // Sanityzacja danych
    const sanitizedData = {
      title: title.trim(),
      description: description ? description.trim() : '',
      price: price ? parseFloat(price) : 0,
      user: req.user._id
    };
    
    const wishlistEntry = new Wishlist(sanitizedData);
    await wishlistEntry.save();
    
    res.status(201).json({ 
      message: "Item added successfully",
      data: wishlistEntry 
    });
    
  } catch (error) {
    res.status(500).json({ message: "Internal server error" });
  }
};
```

#### Walidacja rejestracji:
```javascript
// Walidacja formatu email
const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
if (!emailRegex.test(email)) {
  return res.status(400).json({ message: "Invalid email format" });
}

// Walidacja si≈Çy has≈Ça
if (password.length < 6) {
  return res.status(400).json({ message: "Password must be at least 6 characters" });
}
```

---

## üé® Interfejs u≈ºytkownika

### Design System
- **Kolory g≈Ç√≥wne**: Ciemny motyw (#121212) z zielonymi akcentami (#00ffae)
- **Typografia**: Fira Code dla kodu, system fonts dla tekstu
- **Spacing**: Konsystentny system 8px grid
- **Border radius**: 8px-12px dla nowoczesnego wyglƒÖdu

### Komponenty UI

#### Karty wishlist:
```css
.item_card {
  background-color: var(--section-bg);
  border-radius: 12px;
  border: 1px solid rgba(0, 255, 174, 0.2);
  padding: 1.5rem;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.item_card:hover {
  border-color: rgba(0, 255, 174, 0.4);
  transform: translateY(-2px);
  box-shadow: 0 8px 32px rgba(0, 255, 174, 0.15);
}
```

#### Responsywno≈õƒá:
- **Desktop**: Siatka 3-4 kolumn z kartami
- **Tablet**: Siatka 2 kolumn
- **Mobile**: Pojedyncza kolumna z dostosowanymi kontrolkami

---

## üíª Demonstracja kodu

### Routing aplikacji React
```javascript
// client/src/App.js
import { Route, Routes, Navigate } from "react-router-dom";
import Main from "./components/Main";
import Signup from "./components/Signup";
import Login from "./components/Login";

function App() {
  const user = localStorage.getItem("token");
  
  return (
    <Routes>
      {user && <Route path="/" exact element={<Main />} />}
      <Route path="/signup" exact element={<Signup />} />
      <Route path="/login" exact element={<Login />} />
      <Route path="/" element={<Navigate replace to="/login" />} />
    </Routes>
  );
}
```

### Kontroler wishlist z pe≈ÇnƒÖ implementacjƒÖ CRUD
```javascript
// server/controllers/wishlistController.js
const Wishlist = require('../models/wishlist');

// GET - Pobieranie listy ≈ºycze≈Ñ u≈ºytkownika
exports.getMyWishlist = async (req, res) => {
  try {
    const wishlist = await Wishlist.find({ user: req.user._id });
    res.status(200).json({ data: wishlist, message: 'Twoja wishlist' });
  } catch (error) {
    res.status(500).json({ message: 'B≈ÇƒÖd serwera' });
  }
};

// POST - Dodawanie nowego elementu
exports.addToMyWishlist = async (req, res) => {
  try {
    const { title, description, price } = req.body;
    if (!title) {
      return res.status(400).json({ message: 'Tytu≈Ç jest wymagany' });
    }
    const newEntry = new Wishlist({
      user: req.user._id,
      title,
      description,
      price
    });
    await newEntry.save();
    res.status(201).json({ data: newEntry, message: 'Dodano do wishlisty' });
  } catch (error) {
    res.status(500).json({ message: 'B≈ÇƒÖd serwera' });
  }
};

// PATCH - Prze≈ÇƒÖczanie statusu zakupu
exports.togglePurchased = async (req, res) => {
  try {
    const { id } = req.params;
    const entry = await Wishlist.findOne({ _id: id, user: req.user._id });
    if (!entry) return res.status(404).json({ message: 'Nie znaleziono wpisu' });
    entry.purchased = !entry.purchased;
    await entry.save();
    res.status(200).json({ data: entry, message: 'Status zakupu zmieniony' });
  } catch (error) {
    res.status(500).json({ message: 'B≈ÇƒÖd serwera' });
  }
};

// DELETE - Usuwanie elementu
exports.deleteWishlistEntry = async (req, res) => {
  try {
    const { id } = req.params;
    const entry = await Wishlist.findOne({ _id: id, user: req.user._id });
    if (!entry) return res.status(404).json({ message: 'Nie znaleziono wpisu' });
    
    await Wishlist.findByIdAndDelete(id);
    res.status(200).json({ message: 'Wpis zosta≈Ç usuniƒôty' });
  } catch (error) {
    res.status(500).json({ message: 'B≈ÇƒÖd serwera' });
  }
};

// GET - Statystyki wishlist
exports.getMyWishlistStats = async (req, res) => {
  try {
    const wishlist = await Wishlist.find({ user: req.user._id });
    
    const totalEntries = wishlist.length;
    const purchasedEntries = wishlist.filter(item => item.purchased).length;
    const accomplishedPercentage = totalEntries > 0 ? Math.round((purchasedEntries / totalEntries) * 100) : 0;
    
    const totalValue = wishlist.reduce((sum, item) => sum + (item.price || 0), 0);
    const totalSpent = wishlist.filter(item => item.purchased).reduce((sum, item) => sum + (item.price || 0), 0);
    const remainingValue = totalValue - totalSpent;
    
    const stats = {
      totalEntries,
      purchasedEntries,
      accomplishedPercentage,
      totalValue: Math.round(totalValue * 100) / 100,
      totalSpent: Math.round(totalSpent * 100) / 100,
      remainingValue: Math.round(remainingValue * 100) / 100
    };
    
    res.status(200).json({ data: stats });
  } catch (error) {
    res.status(500).json({ message: 'B≈ÇƒÖd serwera' });
  }
};
```

### Routing API z middleware autoryzacji
```javascript
// server/routes/wishlist.js
const express = require('express');
const router = express.Router();
const tokenVerification = require('../middleware/tokenVerification');
const wishlistController = require('../controllers/wishlistController');

// Wszystkie route'y wymagajƒÖ autoryzacji
router.get('/my', tokenVerification, wishlistController.getMyWishlist);
router.post('/my', tokenVerification, wishlistController.addToMyWishlist);
router.patch('/:id/toggle', tokenVerification, wishlistController.togglePurchased);
router.delete('/:id', tokenVerification, wishlistController.deleteWishlistEntry);
router.get('/stats', tokenVerification, wishlistController.getMyWishlistStats);

module.exports = router;
```

### Komponent React z walidacjƒÖ formularza
```javascript
// client/src/components/Wishlist/Wishlist.jsx (fragment)
const Wishlist = ({ entries = [], onAddEntry, onTogglePurchased, onDeleteEntry }) => {
  const [title, setTitle] = useState("");
  const [description, setDescription] = useState("");
  const [price, setPrice] = useState("");
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState("");
  const [showAddForm, setShowAddForm] = useState(false);

  // Walidacja w czasie rzeczywistym
  const isFormValid = () => {
    return title.trim().length >= 2 && 
           title.trim().length <= 32 && 
           description.length <= 256;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError("");
    
    // Szczeg√≥≈Çowa walidacja
    if (!title.trim()) {
      setError("Title is required");
      return;
    }
    if (title.trim().length < 2) {
      setError("Title must be at least 2 characters long");
      return;
    }
    if (title.trim().length > 32) {
      setError("Title cannot exceed 32 characters");
      return;
    }
    if (description.trim().length > 256) {
      setError("Description cannot exceed 256 characters");
      return;
    }
    
    setLoading(true);
    try {
      await onAddEntry({ 
        title: title.trim(), 
        description: description.trim(), 
        price: price ? Number(price) : undefined 
      });
      setTitle("");
      setDescription("");
      setPrice("");
      setShowAddForm(false);
    } catch (err) {
      setError("Error adding to wishlist");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className={styles.wishlist_container}>
      {/* UI komponenty z CSS Modules */}
    </div>
  );
};
```

---

## üéâ Podsumowanie realizacji wymaga≈Ñ

Aplikacja **Wishlist App** w pe≈Çni realizuje wszystkie wymagania projektu:

‚úÖ **1. Szkielety programistyczne**: 
- **Frontend**: React.js v19.1.0 z React Router DOM v7.5.2
- **Backend**: Express.js v5.1.0 z Node.js

‚úÖ **2. Nierelacyjna baza danych i CRUD**: 
- **MongoDB** z Mongoose v8.15.0
- **Pe≈Çne CRUD** dla Users i Wishlist z kontrolerami

‚úÖ **3. API REST**: 
- **Kompletny REST API** z proper HTTP methods (GET, POST, PATCH, DELETE)
- **Endpoint-y** dla autoryzacji, u≈ºytkownik√≥w i wishlist

‚úÖ **4. Bezpiecze≈Ñstwo**: 
- **Haszowanie hase≈Ç** z bcrypt v5.1.1
- **Autoryzacja JWT** z tokenami o czasie wyga≈õniƒôcia 7 dni
- **Middleware** tokenVerification zabezpieczajƒÖcy wszystkie chronione route'y

‚úÖ **5. Walidacja dwustronna**: 
- **Frontend**: Walidacja w React z wizualnym feedbackiem
- **Backend**: Walidacja z Joi v17.13.3 i joi-password-complexity
- **Walidacja formularzy** w czasie rzeczywistym

‚úÖ **6. Wzorzec MVC i jako≈õƒá kodu**: 
- **Models**: Mongoose schemas w /models
- **Views**: React komponenty z CSS Modules  
- **Controllers**: Logika biznesowa w /controllers
- **Routing**: Oddzielne pliki route'√≥w w /routes
- **Middleware**: Autoryzacja w /middleware

### Dodatkowe funkcjonalno≈õci zaimplementowane:
- üìä **System statystyk** z obliczaniem procent√≥w i sum
- üé® **Responsywny UI** z CSS Modules
- üîÑ **Real-time walidacja** formularzy
- üóëÔ∏è **Funkcjonalno≈õƒá usuwania** z potwierdzeniem
- ‚úÖ **Toggle status** zakupu element√≥w
- üîê **Pe≈Çne zabezpieczenia** API

Aplikacja reprezentuje profesjonalne podej≈õcie do tworzenia nowoczesnych aplikacji webowych z wykorzystaniem aktualnych technologii i best practices.
